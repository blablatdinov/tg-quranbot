# QuranBot - Elixir –≤–µ—Ä—Å–∏—è (—Ç–æ–ª—å–∫–æ —Ä–∞—Å—Å—ã–ª–∫–∏)

Elixir-–≤–µ—Ä—Å–∏—è –±–æ—Ç–∞ –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏ –∞—è—Ç–æ–≤ –ö–æ—Ä–∞–Ω–∞ –∏ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–º–∞–∑–∞ —Å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Å–æ–æ–±—â–µ–Ω–∏–π.
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞—Å—Å—ã–ª–æ–∫. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ Python.

## –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### üöÄ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Task.async_stream/3` –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —É—Ä–æ–≤–µ–Ω—å –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –æ—Ç–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –°—á–µ—Ç—á–∏–∫–∏ —É—Å–ø–µ—à–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫, –æ—à–∏–±–æ–∫ –∏ –æ—Ç–ø–∏—Å–æ–∫
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Prometheus –¥–ª—è –º–µ—Ç—Ä–∏–∫

### üåê Webhook API
- HTTP endpoints –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ä–∞—Å—Å—ã–ª–æ–∫
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º (croniq)
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ó–∞—â–∏—Ç–∞ —Å –ø–æ–º–æ—â—å—é webhook —Å–µ–∫—Ä–µ—Ç–∞

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏

#### `QuranBot.Events.MorningContentPublished`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–∞—Å—Å—ã–ª–∫–∏ –∞—è—Ç–æ–≤
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤—Å–µ–º –∞–∫—Ç–∏–≤–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–Ω—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### `QuranBot.Events.PrayersMailing`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞—Å—Å—ã–ª–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–º–∞–∑–∞
- –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–º–∞–∑–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å –∫–Ω–æ–ø–∫–∞–º–∏

#### `QuranBot.Webhook`
- HTTP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è webhook –∑–∞–ø—Ä–æ—Å–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ —Ä–∞—Å—Å—ã–ª–æ–∫

#### `QuranBot.Telegram`
- –†–∞–±–æ—Ç–∞ —Å Telegram Bot API (—Ç–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–∫–∞)
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —Ñ–∞–π–ª–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API

#### `QuranBot.Users`
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ü–æ–º–µ—Ç–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- Batch –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Elixir 1.15+
- Erlang/OTP 25+
- PostgreSQL
- Redis

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
mix deps.get
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
mix ecto.create
mix ecto.migrate
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
export TELEGRAM_TOKEN="your_telegram_bot_token"
export DATABASE_URL="postgresql://user:password@localhost/quranbot"
export REDIS_URL="redis://localhost:6379"
export WEBHOOK_PORT="4000"
export WEBHOOK_SECRET="your_webhook_secret"
export DAILY_AYATS="on"
export DAILY_PRAYERS="on"
export RAMADAN_MODE="false"
```

### –ó–∞–ø—É—Å–∫
```bash
# –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
mix run --no-halt

# –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
MIX_ENV=prod mix release
./_build/prod/rel/quran_bot/bin/quran_bot start
```

## Webhook API

### Endpoints

#### Health Check
```bash
GET /health
```
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞.

#### –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ –∞—è—Ç–æ–≤
```bash
POST /webhook/morning-content
Headers:
  Authorization: Bearer your_webhook_secret
  # –∏–ª–∏
  X-Webhook-Secret: your_webhook_secret
```

#### –†–∞—Å—Å—ã–ª–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–º–∞–∑–∞
```bash
POST /webhook/prayers
Headers:
  Authorization: Bearer your_webhook_secret
  # –∏–ª–∏
  X-Webhook-Secret: your_webhook_secret
```

#### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π webhook
```bash
POST /webhook/mailing/{type}
```
–ì–¥–µ `{type}` –º–æ–∂–µ—Ç –±—ã—Ç—å:
- `morning-content` - —É—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ –∞—è—Ç–æ–≤
- `prayers` - —Ä–∞—Å—Å—ã–ª–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–º–∞–∑–∞

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
curl http://localhost:4000/health

# –ó–∞–ø—É—Å–∫ —É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–∞—Å—Å—ã–ª–∫–∏
curl -X POST http://localhost:4000/webhook/morning-content \
  -H "Authorization: Bearer your_webhook_secret"

# –ó–∞–ø—É—Å–∫ —Ä–∞—Å—Å—ã–ª–∫–∏ –Ω–∞–º–∞–∑–∞
curl -X POST http://localhost:4000/webhook/prayers \
  -H "X-Webhook-Secret: your_webhook_secret"

# –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π webhook
curl -X POST http://localhost:4000/webhook/mailing/morning-content \
  -H "Authorization: Bearer your_webhook_secret"
```

### –û—Ç–≤–µ—Ç—ã API

#### –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫ (202 Accepted)
```json
{
  "status": "accepted",
  "message": "Morning content mailing started"
}
```

#### –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (401 Unauthorized)
```json
{
  "error": "Unauthorized"
}
```

#### –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø —Ä–∞—Å—Å—ã–ª–∫–∏ (400 Bad Request)
```json
{
  "error": "Unknown mailing type: invalid_type"
}
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å croniq

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞

–í croniq –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏:

```yaml
# –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ –∞—è—Ç–æ–≤ –≤ 6:00 —É—Ç—Ä–∞
morning_content_mailing:
  schedule: "0 6 * * *"
  webhook:
    url: "http://your-server:4000/webhook/morning-content"
    headers:
      Authorization: "Bearer your_webhook_secret"

# –†–∞—Å—Å—ã–ª–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–º–∞–∑–∞ –≤ 20:00 –≤–µ—á–µ—Ä–∞
prayers_mailing:
  schedule: "0 20 * * *"
  webhook:
    url: "http://your-server:4000/webhook/prayers"
    headers:
      X-Webhook-Secret: "your_webhook_secret"
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º webhook

```yaml
# –£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞—Å—Å—ã–ª–∫–∞ –∞—è—Ç–æ–≤
morning_content_mailing:
  schedule: "0 6 * * *"
  webhook:
    url: "http://your-server:4000/webhook/mailing/morning-content"
    headers:
      Authorization: "Bearer your_webhook_secret"

# –†–∞—Å—Å—ã–ª–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–º–∞–∑–∞
prayers_mailing:
  schedule: "0 20 * * *"
  webhook:
    url: "http://your-server:4000/webhook/mailing/prayers"
    headers:
      Authorization: "Bearer your_webhook_secret"
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| `TELEGRAM_TOKEN` | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ | - |
| `DATABASE_URL` | URL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL | `postgresql://postgres:postgres@localhost/quranbot` |
| `REDIS_URL` | URL Redis | `redis://localhost:6379` |
| `WEBHOOK_PORT` | –ü–æ—Ä—Ç –¥–ª—è webhook —Å–µ—Ä–≤–µ—Ä–∞ | `4000` |
| `WEBHOOK_SECRET` | –°–µ–∫—Ä–µ—Ç –¥–ª—è –∑–∞—â–∏—Ç—ã webhook | - |
| `DAILY_AYATS` | –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É –∞—è—Ç–æ–≤ | `on` |
| `DAILY_PRAYERS` | –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É –Ω–∞–º–∞–∑–∞ | `on` |
| `RAMADAN_MODE` | –†–µ–∂–∏–º –†–∞–º–∞–¥–∞–Ω–∞ | `false` |
| `LOG_LEVEL` | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è | `info` |
| `POOL_SIZE` | –†–∞–∑–º–µ—Ä –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –ë–î | `10` |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞

–í –º–æ–¥—É–ª—è—Ö —Ä–∞—Å—Å—ã–ª–∫–∏ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞:

```elixir
# –í MorningContentPublished.process/0 –∏ PrayersMailing.process/0
active_users
|> Task.async_stream(&send_message/1, 
    max_concurrency: 10,  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
    timeout: 30_000)      # –¢–∞–π–º–∞—É—Ç –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
```

## API

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —Ä–∞—Å—Å—ã–ª–æ–∫

```elixir
# –ó–∞–ø—É—Å–∫ —É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–∞—Å—Å—ã–ª–∫–∏ –∞—è—Ç–æ–≤
QuranBot.Events.MorningContentPublished.process()

# –ó–∞–ø—É—Å–∫ —Ä–∞—Å—Å—ã–ª–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–º–∞–∑–∞
QuranBot.Events.PrayersMailing.process()
```

### –†–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

```elixir
# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
QuranBot.Users.create_user(chat_id, city_id)

# –ü–æ–º–µ—Ç–∫–∞ –∫–∞–∫ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ
QuranBot.Users.mark_as_inactive(chat_id)

# Batch –æ–ø–µ—Ä–∞—Ü–∏—è
QuranBot.Users.batch_mark_as_inactive([chat_id1, chat_id2])
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Elixir-–≤–µ—Ä—Å–∏–∏

1. **–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Task.async_stream/3` –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
2. **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫
3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
5. **Webhook API**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞–º–∏

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å Python-–≤–µ—Ä—Å–∏–µ–π

| –ê—Å–ø–µ–∫—Ç | Python | Elixir |
|--------|--------|--------|
| –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ | –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ | Try/catch –≤ —Ü–∏–∫–ª–µ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | –ë—ã—Å—Ç—Ä–µ–µ –±–ª–∞–≥–æ–¥–∞—Ä—è –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º—É |
| –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | –ë–∞–∑–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ | –ü–æ–¥—Ä–æ–±–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ –ª–æ–≥–∏ |
| –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ | –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π | –í–Ω–µ—à–Ω–∏–π (croniq) |

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Python-–≤–µ—Ä—Å–∏–µ–π

### –°–æ–≤–º–µ—Å—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞

1. **Python-–≤–µ—Ä—Å–∏—è**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ–º–∞–Ω–¥—ã, callback queries
2. **Elixir-–≤–µ—Ä—Å–∏—è**: –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–∞—Å—Å—ã–ª–∫–∏ —Å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π

### –û–±—â–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–û–±–µ –≤–µ—Ä—Å–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω—É –∏ —Ç—É –∂–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL:
- –¢–∞–±–ª–∏—Ü–∞ `users` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
- –¢–∞–±–ª–∏—Ü–∞ `ayats` - –∞—è—Ç—ã –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏
- –¢–∞–±–ª–∏—Ü–∞ `prayers` - –≤—Ä–µ–º—è –Ω–∞–º–∞–∑–∞
- –¢–∞–±–ª–∏—Ü–∞ `suras` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—É—Ä–∞—Ö

### –ó–∞–ø—É—Å–∫

```bash
# –ó–∞–ø—É—Å–∫ Python-–≤–µ—Ä—Å–∏–∏ (–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π)
python src/main.py

# –ó–∞–ø—É—Å–∫ Elixir-–≤–µ—Ä—Å–∏–∏ (—Ä–∞—Å—Å—ã–ª–∫–∏)
mix run --no-halt
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
mix test
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
```bash
mix credo
mix dialyzer
```

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
```bash
mix format
```

## Docker

### –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
```bash
docker build -t quranbot-elixir -f Dockerfile.elixir .
```

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```bash
docker run -d \
  --name quranbot-elixir \
  -p 4000:4000 \
  -e TELEGRAM_TOKEN="your_token" \
  -e DATABASE_URL="postgresql://user:pass@host/db" \
  -e REDIS_URL="redis://host:6379" \
  -e WEBHOOK_SECRET="your_webhook_secret" \
  quranbot-elixir
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª LICENSE. 